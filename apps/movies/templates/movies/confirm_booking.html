{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2 class="text-center">Booking Summary</h2>
    <p class="text-center text-muted">{{ movie.title }} - {{ showtime.datetime|date:"l, F j, Y - g:i A" }}</p>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Selected Seats:</h5>
            <ul>
                {% for seat in seats %}
                <li>{{ seat.row }}{{ seat.number }} - {{ seat.seat_class }} (₹{{ seat.price }})</li>
                {% endfor %}
            </ul>
            <h4>Total: ₹{{ total_price }}</h4>

            <form action="{% url 'process_payment' movie.id showtime.id %}" method="POST">
                {% csrf_token %}
                <input type="hidden" name="selected_seats" value="{{ seats|join:',' }}">
                <button type="submit" class="btn btn-success">Proceed to Payment</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
