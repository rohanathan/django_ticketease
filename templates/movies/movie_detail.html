{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
    <div id="movieDetailContainer" data-movie-id="{{ movie.id }}">
        <div class="row">
            <!-- ðŸŽ¬ Movie Poster -->
            <div class="col-md-4">
                <img src="{{ movie.poster.url }}" class="img-fluid rounded shadow" alt="{{ movie.title }}">
            </div>

            <!-- ðŸŽŸ Movie Details -->
            <div class="col-md-8">
                <h2 class="fw-bold">{{ movie.title }}</h2>
                <p>{{ movie.description }}</p>
                <p><strong>Genre:</strong> {{ movie.genre }}</p>
                <p><strong>Rating:</strong> {{ movie.get_rating_display }}</p>
                <p><strong>Runtime:</strong> {{ movie.runtime }} mins</p>
                <hr>

                <!-- ðŸ“… Select Date -->
                <h4 class="fw-bold">ðŸ“… Select Date</h4>
                <div class="d-flex gap-2 mb-4">
                    {% for date in date_range %}
                        <button class="btn btn-outline-primary date-btn" data-date="{{ date|date:'Y-m-d' }}">
                            {{ date|date:"D, M j" }}
                        </button>
                    {% endfor %}
                </div>

                <!-- ðŸŽ¦ Showtimes & Venues (Loaded Dynamically) -->
                <div id="showtimeContainer">
                    <p>Select a date to see showtimes.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- âœ… Load External JS -->
<script src="{% static 'movies/js/movie_detail.js' %}"></script>
{% endblock %}
